# =============================================================================
# RAG Template Configuration
# Copy this file to .env and fill in your values:  cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Required
# -----------------------------------------------------------------------------

# PostgreSQL connection string (host must match your pgvector service name)
PG_CONN=postgresql://pgvector:your-db-password@pgvector:5432/ragdb

# OpenAI key -- required for embeddings; also used as default LLM
OPENAI_API_KEY=sk-proj-your-openai-key

# Secret for signing JWT auth tokens (generate a random one)
JWT_SECRET=change-this-to-a-random-string

# -----------------------------------------------------------------------------
# LLM Provider
# -----------------------------------------------------------------------------

# Options: openai | anthropic | google | ollama
LLM_PROVIDER=openai
LLM_MODEL=gpt-4o-mini

# Only needed if you switch LLM_PROVIDER away from openai
ANTHROPIC_API_KEY=
GOOGLE_API_KEY=

# -----------------------------------------------------------------------------
# Embeddings
# -----------------------------------------------------------------------------

EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_DIM=3072

# -----------------------------------------------------------------------------
# Server
# -----------------------------------------------------------------------------

HOST=0.0.0.0
PORT=8002
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Optional
# -----------------------------------------------------------------------------

# Google OAuth (enables "Sign in with Google")
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
OAUTH_REDIRECT_URI=https://your-app.bult.app/api/auth/google/callback

# Faithfulness scoring (extra LLM call per response to verify grounding)
ENABLE_FAITHFULNESS_SCORING=false

# OCR languages for scanned PDFs (Tesseract format: lang1+lang2)
OCR_LANGUAGES=rus+eng

# SMTP for transactional emails (password reset).
# Leave blank to log reset links to console instead.
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=

# Application URL used in email links (password reset, etc.)
APP_URL=http://localhost:8002

# -----------------------------------------------------------------------------
# Postgres / pgvector Service
# Set these on the Postgres service in bult.ai, NOT on the app service.
# Values must match the user, password, and database in PG_CONN above.
# -----------------------------------------------------------------------------

POSTGRES_DB=ragdb
POSTGRES_USER=pgvector
POSTGRES_PASSWORD=your-db-password
